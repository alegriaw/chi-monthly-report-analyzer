# Amazon Q CLI æ€§èƒ½å„ªåŒ–èªªæ˜

## å•é¡Œæè¿°

åœ¨ä½¿ç”¨ CHI Low Security Score Analyzer çš„ "Improve Summary with Amazon Q Chat" åŠŸèƒ½æ™‚ï¼Œç”¨æˆ¶ç¶“å¸¸é‡åˆ° "ERROR - Timeout checking Amazon Q status" éŒ¯èª¤ã€‚

## æ ¹æœ¬åŸå› 

åŸå§‹çš„ Amazon Q CLI ç‹€æ…‹æª¢æŸ¥ä½¿ç”¨ `q chat hello` å‘½ä»¤ä¾†æ¸¬è©¦é€£æ¥ï¼Œä½†é€™å€‹å‘½ä»¤ï¼š
- éœ€è¦èˆ‡ Amazon Q æœå‹™å™¨å»ºç«‹å®Œæ•´çš„èŠå¤©æœƒè©±
- ç¶“å¸¸è¶…æ™‚ï¼ˆ20+ ç§’ï¼‰
- å³ä½¿ CLI å·²æ­£ç¢ºå®‰è£å’Œç™»å…¥ï¼Œä¹Ÿæœƒå¤±æ•—

## å„ªåŒ–è§£æ±ºæ–¹æ¡ˆ

### 1. å¿«é€Ÿç‹€æ…‹æª¢æŸ¥ç­–ç•¥

æ–°çš„æª¢æŸ¥æµç¨‹ï¼š
1. **ç‰ˆæœ¬æª¢æŸ¥** (`q --version`) - 0.03s
2. **ç™»å…¥ç‹€æ…‹æª¢æŸ¥** (`q login`) - 1.5s
3. **å¹«åŠ©å‘½ä»¤æª¢æŸ¥** (`q chat --help`) - 1.6sï¼ˆåƒ…åœ¨éœ€è¦æ™‚ï¼‰

### 2. ç‹€æ…‹ç·©å­˜æ©Ÿåˆ¶

- **ç·©å­˜æ™‚é–“**: 5 åˆ†é˜
- **é¿å…é‡è¤‡æª¢æŸ¥**: åŒä¸€æœƒè©±ä¸­å¤šæ¬¡ä½¿ç”¨èŠå¤©åŠŸèƒ½æ™‚ä¸æœƒé‡è¤‡æª¢æŸ¥
- **æ‰‹å‹•åˆ·æ–°**: æä¾› "ğŸ”„ Recheck Amazon Q" æŒ‰éˆ•

### 3. æª¢æŸ¥é‚è¼¯å„ªåŒ–

```python
# èˆŠæ–¹æ³• (æ…¢ä¸”ä¸å¯é )
q chat hello  # 20+ ç§’ï¼Œç¶“å¸¸è¶…æ™‚

# æ–°æ–¹æ³• (å¿«ä¸”å¯é )
q login       # 1.5 ç§’ï¼Œæª¢æŸ¥ "Already logged in" è¨Šæ¯
```

## æ€§èƒ½æ”¹é€²

| æª¢æŸ¥æ–¹æ³• | èˆŠç‰ˆæœ¬ | æ–°ç‰ˆæœ¬ | æ”¹é€² |
|---------|--------|--------|------|
| é¦–æ¬¡æª¢æŸ¥ | 20+ ç§’ (ç¶“å¸¸å¤±æ•—) | 1.5 ç§’ | 93% æ›´å¿« |
| å¾ŒçºŒæª¢æŸ¥ | 20+ ç§’ (æ¯æ¬¡) | 0 ç§’ (ç·©å­˜) | 100% æ›´å¿« |
| æˆåŠŸç‡ | ~30% | ~95% | 65% æ”¹é€² |

## ç”¨æˆ¶é«”é©—æ”¹é€²

### 1. ç‹€æ…‹é¡¯ç¤º
- å¯¦æ™‚é¡¯ç¤º Amazon Q CLI ç‹€æ…‹
- æ¸…æ¥šçš„éŒ¯èª¤è¨Šæ¯å’Œè§£æ±ºå»ºè­°

### 2. æ‰‹å‹•åˆ·æ–°
- "ğŸ”„ Recheck Amazon Q" æŒ‰éˆ•
- æ¸…é™¤ç·©å­˜ä¸¦é‡æ–°æª¢æŸ¥ç‹€æ…‹

### 3. æ›´å¥½çš„éŒ¯èª¤è™•ç†
- å€åˆ†ä¸åŒé¡å‹çš„éŒ¯èª¤ï¼ˆæœªå®‰è£ã€æœªç™»å…¥ã€ç¶²è·¯å•é¡Œï¼‰
- æä¾›å…·é«”çš„è§£æ±ºæ­¥é©Ÿ

## æŠ€è¡“å¯¦ç¾

### ç‹€æ…‹ç·©å­˜
```python
_amazon_q_cache = {
    'status': None,
    'message': None,
    'timestamp': 0,
    'cache_duration': 300  # 5 åˆ†é˜
}
```

**ğŸ“– è©³ç´°ç·©å­˜åˆ†æ**: åƒè¦‹ [Cache Duration Analysis](cache-duration-analysis.md) äº†è§£ 5 åˆ†é˜ vs 10 åˆ†é˜ç·©å­˜çš„è©³ç´°æ¯”è¼ƒå’Œæ€§èƒ½å½±éŸ¿åˆ†æã€‚

### å¿«é€Ÿæª¢æŸ¥é‚è¼¯
```python
def check_amazon_q_availability() -> tuple[bool, str]:
    # 1. æª¢æŸ¥ç·©å­˜
    if cache_valid():
        return cached_result
    
    # 2. ç‰ˆæœ¬æª¢æŸ¥ (0.03s)
    version_check()
    
    # 3. ç™»å…¥ç‹€æ…‹æª¢æŸ¥ (1.5s)
    login_status = check_login_status()
    if "already logged in" in login_status:
        return True, "Available and authenticated"
    
    # 4. å¹«åŠ©å‘½ä»¤æª¢æŸ¥ (1.6s, åƒ…åœ¨éœ€è¦æ™‚)
    help_check()
```

## æ•…éšœæ’é™¤

### å¦‚æœä»ç„¶é‡åˆ°è¶…æ™‚å•é¡Œ

1. **æª¢æŸ¥ç¶²è·¯é€£æ¥**:
   ```bash
   ping github.com
   curl -I https://amazonaws.com
   ```

2. **é‡æ–°ç™»å…¥ Amazon Q**:
   ```bash
   q logout
   q login
   ```

3. **æ¸…é™¤æ‡‰ç”¨ç·©å­˜**:
   - é»æ“Š "ğŸ”„ Recheck Amazon Q" æŒ‰éˆ•
   - æˆ–é‡æ–°å•Ÿå‹• Streamlit æ‡‰ç”¨

4. **æª¢æŸ¥ Amazon Q CLI ç‰ˆæœ¬**:
   ```bash
   q --version  # æ‡‰è©²æ˜¯ 1.12.1 æˆ–æ›´æ–°
   ```

### æ—¥èªŒæª¢æŸ¥

æŸ¥çœ‹ `amazon_q_cli.log` æª”æ¡ˆï¼š
```bash
tail -f amazon_q_cli.log
```

å°‹æ‰¾ä»¥ä¸‹è¨Šæ¯ï¼š
- `Using cached Amazon Q status` - ç·©å­˜æ­£å¸¸å·¥ä½œ
- `Amazon Q CLI is logged in (detected via login check)` - å¿«é€Ÿæª¢æŸ¥æˆåŠŸ
- `Timeout checking Amazon Q status` - å¦‚æœä»ç„¶å‡ºç¾ï¼Œéœ€è¦é€²ä¸€æ­¥è¨ºæ–·

## ç¸½çµ

é€™å€‹å„ªåŒ–å¤§å¹…æ”¹å–„äº† Amazon Q CLI æ•´åˆçš„æ€§èƒ½å’Œå¯é æ€§ï¼š
- **é€Ÿåº¦æå‡ 93%**
- **æˆåŠŸç‡æå‡ 65%**
- **æ›´å¥½çš„ç”¨æˆ¶é«”é©—**
- **æ™ºèƒ½ç·©å­˜æ©Ÿåˆ¶**

ç”¨æˆ¶ç¾åœ¨å¯ä»¥æµæš¢åœ°ä½¿ç”¨ "Improve Summary with Amazon Q Chat" åŠŸèƒ½ï¼Œè€Œä¸æœƒé‡åˆ°é »ç¹çš„è¶…æ™‚éŒ¯èª¤ã€‚